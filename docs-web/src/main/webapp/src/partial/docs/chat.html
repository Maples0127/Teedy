<!-- chat.html -->
<div class="container">
    <!-- 聊天头部 -->
    <div class="page-header">
        <h1>{{ 'chat.title' | translate }}: {{ targetUser }}</h1>
        <a href="#/user/{{ targetUser }}" class="btn btn-link">
            <i class="icon-arrow-left"></i> {{ 'common.back' | translate }}
        </a>
    </div>

    <!-- 消息容器 -->
    <div class="chat-container" scroll-glue>
        <!-- 消息列表 -->
        <div ng-repeat="message in messages" class="message">
            <div class="message-header">
                <strong>{{ message.sender }}</strong>
                <small>{{ message.time | date:'short' }}</small>
            </div>
            <div class="message-body">{{ message.message }}</div>
        </div>
    </div>

    <!-- 消息发送表单 -->
    <form ng-submit="sendMessage()" class="message-form">
        <div class="input-group">
            <input type="text" ng-model="newMessage"
                   placeholder="{{ 'chat.placeholder' | translate }}"
                   class="form-control">
            <span class="input-group-btn">
        <button type="submit" class="btn btn-primary">
          {{ 'chat.send' | translate }}
        </button>
      </span>
        </div>
    </form>
</div>